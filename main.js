(()=>{"use strict";function e(e,t){for(const n in t)e.setAttribute(n,t[n])}function t(e){let t=new Date;t.setDate(t.getDate()+e);const n=t.toLocaleString("default",{day:"numeric"}),r=t.toLocaleString("default",{weekday:"short"}),c=t.toLocaleString("default",{month:"long"});return t=`${c} ${n}, ${r}`,t}async function n(e,n){try{if(""===e)throw"*Location Can't be empty";const r=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=d54d13f97f0cd0c1021e663f6c303724`);if(r.status>=400&&r.status<500)throw"*Location not found";const c=await r.json(),{lon:o}=c.coord,{lat:a}=c.coord,i=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${a}&lon=${o}&units=${n}&exclude=minutely,hourly&appid=d54d13f97f0cd0c1021e663f6c303724`),u=await i.json();console.log(u),function(e,t,n){const r=document.createElement("div"),c=document.createElement("p"),o=document.createElement("p"),a=document.createElement("p");n="imperial"===n?"℉":"℃",r.setAttribute("class","todayTemp"),c.setAttribute("class","curLocation"),c.innerHTML=t,o.innerHTML=`Current Temp: ${e.current.feels_like}${n}`,a.innerHTML=`Humidity: ${e.current.humidity}%`,r.append(c,o,a),document.querySelector(".now").append(r)}(u,e,n),function(e,n){n="imperial"===n?"℉":"℃";for(let r=1;r<e.daily.length;r++){const c=document.createElement("div"),o=document.createElement("p"),a=document.createElement("p"),i=document.createElement("p"),u=e.daily[r].temp.day,d=e.daily[r].temp.night;c.setAttribute("class","dailyTemp"),o.innerHTML=t(r),a.innerHTML=`Temps: ${u} ${n} / ${d} ${n}`,i.innerHTML=`Humidity: ${e.daily[r].humidity}%`,c.append(o,a,i),document.querySelector(".future").append(c)}}(u,n)}catch(e){document.querySelector(".error").innerHTML=e}}let r,c;!function(){const t=document.createElement("div");t.setAttribute("class","container"),t.append(function(){const t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("label"),c=document.createElement("input"),o=document.createElement("p"),a=document.createElement("button"),i=document.createElement("button");return t.setAttribute("class","header"),n.setAttribute("class","box"),o.setAttribute("class","error"),a.innerHTML="℃",i.innerHTML="℉",r.innerHTML="Search",r.setAttribute("for","search"),e(c,{type:"text",id:"search",name:"search",autocomplete:"off"}),e(a,{class:"tempBtn",id:"celcius"}),e(i,{class:"tempBtn",id:"fahrenheit"}),n.append(r,c,o),t.append(n,a,i),t}(),function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");return e.setAttribute("class","content"),t.setAttribute("class","now"),n.setAttribute("class","future"),e.append(t,n),e}()),document.body.append(t)}(),document.querySelector("#search").addEventListener("keydown",(e=>{const t=e.key;void 0===c&&(c="metric"),"Enter"===t&&(document.querySelector(".error").innerHTML="",document.querySelector(".now").innerHTML="",document.querySelector(".future").innerHTML="",r=e.target.value,n(r,c),e.target.value="")})),document.querySelectorAll(".tempBtn").forEach((function(e){e.addEventListener("click",(function(e){"℃"===e.target.innerHTML&&(c="metric"),"℉"===e.target.innerHTML&&(c="imperial"),void 0!==r&&(document.querySelector(".now").innerHTML="",document.querySelector(".future").innerHTML="",n(r,c))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0osVUFBWSxHQUM5QyxFQUFPdUMsRUFBTUcsT0FBT0MsTUFDcEIvRCxFQUFXLEVBQU1xQyxHQUNqQnNCLEVBQU1HLE9BQU9DLE1BQVEsT0FJN0JoRCxTQUFTaUQsaUJBQWlCLFlBQVlDLFNBQVEsU0FBVUMsR0FDcERBLEVBQUlSLGlCQUFpQixTQUFTLFNBQVVDLEdBQ0wsTUFBM0JBLEVBQU1HLE9BQU8xQyxZQUNiaUIsRUFBUyxVQUVrQixNQUEzQnNCLEVBQU1HLE9BQU8xQyxZQUNiaUIsRUFBUyxpQkFFQXdCLElBQVQsSUFDQTlDLFNBQVNTLGNBQWMsUUFBUUosVUFBWSxHQUMzQ0wsU0FBU1MsY0FBYyxXQUFXSixVQUFZLEdBQzlDcEIsRUFBVyxFQUFNcUMsVyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItYXBwLy4vc3JjL21vZHVsZXMvVUkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvLi9zcmMvbW9kdWxlcy93ZWF0aGVyLmpzIiwid2VicGFjazovL3dlYXRoZXItYXBwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGVsRGV0YWlsKGVsLCBhdHRyKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHIpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyW2tleV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhlYWRlcigpIHtcbiAgY29uc3QgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCB3cmFwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBzZWFyY2hCb3hUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBjZWxjaXVzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNvbnN0IGZhaHJlbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gIGhlYWQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdoZWFkZXInKTtcbiAgd3JhcDEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdib3gnKTtcbiAgZXJyb3JNc2cuc2V0QXR0cmlidXRlKCdjbGFzcycsICdlcnJvcicpO1xuICBjZWxjaXVzQnRuLmlubmVySFRNTCA9ICfihIMnO1xuICBmYWhyZW5CdG4uaW5uZXJIVE1MID0gJ+KEiSc7XG4gIHNlYXJjaEJveFRpdGxlLmlubmVySFRNTCA9ICdTZWFyY2gnO1xuXG4gIHNlYXJjaEJveFRpdGxlLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NlYXJjaCcpO1xuICBlbERldGFpbChzZWFyY2hCb3gsIHtcbiAgICB0eXBlOiAndGV4dCcsIGlkOiAnc2VhcmNoJywgbmFtZTogJ3NlYXJjaCcsIGF1dG9jb21wbGV0ZTogJ29mZicsXG4gIH0pO1xuICBlbERldGFpbChjZWxjaXVzQnRuLCB7IGNsYXNzOiAndGVtcEJ0bicsIGlkOiAnY2VsY2l1cycgfSk7XG4gIGVsRGV0YWlsKGZhaHJlbkJ0biwgeyBjbGFzczogJ3RlbXBCdG4nLCBpZDogJ2ZhaHJlbmhlaXQnIH0pO1xuICB3cmFwMS5hcHBlbmQoc2VhcmNoQm94VGl0bGUsIHNlYXJjaEJveCwgZXJyb3JNc2cpO1xuICBoZWFkLmFwcGVuZCh3cmFwMSwgY2VsY2l1c0J0biwgZmFocmVuQnRuKTtcbiAgcmV0dXJuIGhlYWQ7XG59XG5cbmZ1bmN0aW9uIGNvbnRlbnQoKSB7XG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgY3VycmVudERheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBmb3JlY2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIG1haW4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250ZW50Jyk7XG4gIGN1cnJlbnREYXkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3cnKTtcbiAgZm9yZWNhc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdmdXR1cmUnKTtcblxuICBtYWluLmFwcGVuZChjdXJyZW50RGF5LCBmb3JlY2FzdCk7XG4gIHJldHVybiBtYWluO1xufVxuXG5mdW5jdGlvbiBzaXRlKCkge1xuICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaG9sZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY29udGFpbmVyJyk7XG4gIGhvbGRlci5hcHBlbmQoaGVhZGVyKCksIGNvbnRlbnQoKSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKGhvbGRlcik7XG59XG5cbmV4cG9ydCB7IHNpdGUgfTtcbiIsImZ1bmN0aW9uIGN1ckRhdGUoaW5jcmVtZW50KSB7XG4gIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIHRvZGF5LnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgaW5jcmVtZW50KTtcbiAgY29uc3QgZGF5ID0gdG9kYXkudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IGRheTogJ251bWVyaWMnIH0pO1xuICBjb25zdCB3ZWVrZGF5ID0gdG9kYXkudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IHdlZWtkYXk6ICdzaG9ydCcgfSk7XG4gIGNvbnN0IG1vbnRoID0gdG9kYXkudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IG1vbnRoOiAnbG9uZycgfSk7XG4gIHRvZGF5ID0gYCR7bW9udGh9ICR7ZGF5fSwgJHt3ZWVrZGF5fWA7XG4gIHJldHVybiB0b2RheTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihsb2NhdGlvbiwgbWVhc3VyZSkge1xuICB0cnkge1xuICAgIGlmIChsb2NhdGlvbiA9PT0gJycpIHRocm93IFwiKkxvY2F0aW9uIENhbid0IGJlIGVtcHR5XCI7XG4gICAgY29uc3QgY29vcmQgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2xvY2F0aW9ufSZhcHBpZD1kNTRkMTNmOTdmMGNkMGMxMDIxZTY2M2Y2YzMwMzcyNGApO1xuICAgIGlmIChjb29yZC5zdGF0dXMgPj0gNDAwICYmIGNvb3JkLnN0YXR1cyA8IDUwMCkgdGhyb3cgJypMb2NhdGlvbiBub3QgZm91bmQnO1xuICAgIGNvbnN0IGNvb3JkRGF0YSA9IGF3YWl0IGNvb3JkLmpzb24oKTtcbiAgICBjb25zdCB7IGxvbiB9ID0gY29vcmREYXRhLmNvb3JkO1xuICAgIGNvbnN0IHsgbGF0IH0gPSBjb29yZERhdGEuY29vcmQ7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7bGF0fSZsb249JHtsb259JnVuaXRzPSR7bWVhc3VyZX0mZXhjbHVkZT1taW51dGVseSxob3VybHkmYXBwaWQ9ZDU0ZDEzZjk3ZjBjZDBjMTAyMWU2NjNmNmMzMDM3MjRgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIHRvZGF5KGRhdGEsIGxvY2F0aW9uLCBtZWFzdXJlKTtcbiAgICBmdXR1cmUoZGF0YSwgbWVhc3VyZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcicpLmlubmVySFRNTCA9IGVycjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2RheShkYXRhLCBsb2NhdGlvbiwgbWVhc3VyZSkge1xuICBjb25zdCBjdXJyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IHBsYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBjdXJUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCBodW1pZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgaWYgKG1lYXN1cmUgPT09ICdpbXBlcmlhbCcpIHtcbiAgICBtZWFzdXJlID0gJ+KEiSc7XG4gIH0gZWxzZSB7XG4gICAgbWVhc3VyZSA9ICfihIMnO1xuICB9XG4gIGN1cnJlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0b2RheVRlbXAnKTtcbiAgcGxhY2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjdXJMb2NhdGlvbicpO1xuICBwbGFjZS5pbm5lckhUTUwgPSBsb2NhdGlvbjtcbiAgY3VyVGVtcC5pbm5lckhUTUwgPSBgQ3VycmVudCBUZW1wOiAke2RhdGEuY3VycmVudC5mZWVsc19saWtlfSR7bWVhc3VyZX1gO1xuICBodW1pZC5pbm5lckhUTUwgPSBgSHVtaWRpdHk6ICR7ZGF0YS5jdXJyZW50Lmh1bWlkaXR5fSVgO1xuXG4gIGN1cnJlbnQuYXBwZW5kKHBsYWNlLCBjdXJUZW1wLCBodW1pZCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3cnKS5hcHBlbmQoY3VycmVudCk7XG59XG5cbmZ1bmN0aW9uIGZ1dHVyZShkYXRhLCBtZWFzdXJlKSB7XG4gIGlmIChtZWFzdXJlID09PSAnaW1wZXJpYWwnKSB7XG4gICAgbWVhc3VyZSA9ICfihIknO1xuICB9IGVsc2Uge1xuICAgIG1lYXN1cmUgPSAn4oSDJztcbiAgfVxuICBmb3IgKGxldCBpID0gMTsgaSA8IGRhdGEuZGFpbHkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgdGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0ZW1wZXJhdHVyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBodW1pZGl0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBkYXlUZW1wID0gZGF0YS5kYWlseVtpXS50ZW1wLmRheTtcbiAgICBjb25zdCBuaWdodFRlbXAgPSBkYXRhLmRhaWx5W2ldLnRlbXAubmlnaHQ7XG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2RhaWx5VGVtcCcpO1xuXG4gICAgdGltZS5pbm5lckhUTUwgPSBjdXJEYXRlKGkpO1xuICAgIHRlbXBlcmF0dXJlLmlubmVySFRNTCA9IGBUZW1wczogJHtkYXlUZW1wfSAke21lYXN1cmV9IC8gJHtuaWdodFRlbXB9ICR7bWVhc3VyZX1gO1xuICAgIGh1bWlkaXR5LmlubmVySFRNTCA9IGBIdW1pZGl0eTogJHtkYXRhLmRhaWx5W2ldLmh1bWlkaXR5fSVgO1xuICAgIHdyYXBwZXIuYXBwZW5kKHRpbWUsIHRlbXBlcmF0dXJlLCBodW1pZGl0eSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZ1dHVyZScpLmFwcGVuZCh3cmFwcGVyKTtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRXZWF0aGVyIH07XG4iLCJpbXBvcnQgeyBzaXRlIH0gZnJvbSBcIi4vbW9kdWxlcy9VSS5qc1wiXG5pbXBvcnQgeyBnZXRXZWF0aGVyIH0gZnJvbSBcIi4vbW9kdWxlcy93ZWF0aGVyLmpzXCJcbmltcG9ydCBcIi4vc3R5bGUuY3NzXCJcblxubGV0IHRleHQ7XG5sZXQgbWV0cmljO1xuXG5cbmZ1bmN0aW9uIGxpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaFwiKS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5TmFtZSA9IGV2ZW50LmtleVxuICAgICAgICBpZiAobWV0cmljID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1ldHJpYyA9IFwibWV0cmljXCJcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5TmFtZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yXCIpLmlubmVySFRNTCA9IFwiXCJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubm93XCIpLmlubmVySFRNTCA9IFwiXCJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZnV0dXJlXCIpLmlubmVySFRNTCA9IFwiXCJcbiAgICAgICAgICAgIHRleHQgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgIGdldFdlYXRoZXIodGV4dCwgbWV0cmljKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIlxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGVtcEJ0blwiKS5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaW5uZXJIVE1MID09PSBcIuKEg1wiKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljID0gXCJtZXRyaWNcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5pbm5lckhUTUwgPT09IFwi4oSJXCIpIHtcbiAgICAgICAgICAgICAgICBtZXRyaWMgPSBcImltcGVyaWFsXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vd1wiKS5pbm5lckhUTUwgPSBcIlwiXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mdXR1cmVcIikuaW5uZXJIVE1MID0gXCJcIlxuICAgICAgICAgICAgICAgIGdldFdlYXRoZXIodGV4dCwgbWV0cmljKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbnNpdGUoKTtcbmxpc3RlbmVycygpOyJdLCJuYW1lcyI6WyJlbERldGFpbCIsImVsIiwiYXR0ciIsImtleSIsInNldEF0dHJpYnV0ZSIsImN1ckRhdGUiLCJpbmNyZW1lbnQiLCJ0b2RheSIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRheSIsInRvTG9jYWxlU3RyaW5nIiwid2Vla2RheSIsIm1vbnRoIiwiYXN5bmMiLCJnZXRXZWF0aGVyIiwibG9jYXRpb24iLCJtZWFzdXJlIiwiY29vcmQiLCJmZXRjaCIsInN0YXR1cyIsImNvb3JkRGF0YSIsImpzb24iLCJsb24iLCJsYXQiLCJyZXNwb25zZSIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBsYWNlIiwiY3VyVGVtcCIsImh1bWlkIiwiaW5uZXJIVE1MIiwiZmVlbHNfbGlrZSIsImh1bWlkaXR5IiwiYXBwZW5kIiwicXVlcnlTZWxlY3RvciIsImkiLCJkYWlseSIsImxlbmd0aCIsIndyYXBwZXIiLCJ0aW1lIiwidGVtcGVyYXR1cmUiLCJkYXlUZW1wIiwidGVtcCIsIm5pZ2h0VGVtcCIsIm5pZ2h0IiwiZnV0dXJlIiwiZXJyIiwibWV0cmljIiwiaG9sZGVyIiwiaGVhZCIsIndyYXAxIiwic2VhcmNoQm94VGl0bGUiLCJzZWFyY2hCb3giLCJlcnJvck1zZyIsImNlbGNpdXNCdG4iLCJmYWhyZW5CdG4iLCJ0eXBlIiwiaWQiLCJuYW1lIiwiYXV0b2NvbXBsZXRlIiwiY2xhc3MiLCJoZWFkZXIiLCJtYWluIiwiY3VycmVudERheSIsImZvcmVjYXN0IiwiY29udGVudCIsImJvZHkiLCJzaXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5TmFtZSIsInVuZGVmaW5lZCIsInRhcmdldCIsInZhbHVlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iXSwic291cmNlUm9vdCI6IiJ9